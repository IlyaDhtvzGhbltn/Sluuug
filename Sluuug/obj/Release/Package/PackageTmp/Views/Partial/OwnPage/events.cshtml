@model Slug.Model.Users.MemorableEventsModel
@using Slug.Extensions

<div class="info-item event-item">
    <div class="event-item-info">
        <div class="event-title-container">
            <h3>@Model.EventTitle</h3>
            <span>@Model.DateEventFormat</span>
            @if (!string.IsNullOrWhiteSpace(Model.Text))
            {
                <span class="user-comment">&laquo;@Model.Text&raquo;</span>
            }
        </div>
        <div class="manage-event">
            <div class="item-delete">
                <button id="@Model.Id" class="delete-button" onclick="DeleteProfileEntry(this.id)">Удалить</button>
            </div>            
            <div class="item-update">
                <input type="file" id="@Model.BindedAlbumId" class="input-event-photo" onchange="UploadFotosToAlbum(this)" />
                <button id="@Model.BindedAlbumId" class="upload-event-photo-button">Добавить Фото</button>
            </div>
        </div>
    </div>
    <div class="event-album">
        @if (Model.Photos.Count <= 5)
        {
            foreach (var photo in Model.Photos)
            {
                <div class="event-photo-container">
                    <img alt="small photo" src="@photo.SmallFotoUri" onclick="ExpandAlbum('@Model.Photos[0].Album')" />
                </div>
            }
        }
        else
        {
            for (int i = 0; i <= 4; i++)
            {
                <div class="event-photo-container">
                    <img alt="small photo" src="@Model.Photos[i].SmallFotoUri" onclick="ExpandAlbum('@Model.BindedAlbumId')" />
                </div>
            }
            <div class="more-container"><span class="more-text" onclick="ExpandAlbum('@Model.BindedAlbumId')">Еще...</span></div>
        }
    </div>
</div> 