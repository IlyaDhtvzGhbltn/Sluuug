
@{
    ViewBag.Title = "Register";
    Layout = "~/Views/Shared/Logo.cshtml";
    //Layout = "~/Views/Shared/Logo2.cshtml"; // some layouts available
}

<h2>Register</h2>

<link href="~/resources/styles/registration_country_list.css" rel="stylesheet" />
@using (Html.BeginForm("userconfirmation", "guest", null, FormMethod.Post, new { @id = "reg_subm" }))
{
    <p>
        <input type="text" name="Login" placeholder="login" required />
    </p>
    <p>
        <input type="text" name="Name" required placeholder="enter your name" />
    </p>
    <p>
        <input type="text" name="ForName" required placeholder="enter your forname" />
    </p>
    <p>
        <select name="CountryCode" id="country_list">
            <option value="1">USA</option>
            <option value="7">Russia</option>
        </select>
    </p>
    <p>
        <input type="email" name="Email" required  placeholder="insert you e-mail"/>
    </p>
    <p>
        <input type="date" name="DateBirth" required />
    </p>
    <p>
        <input type="password" name="PasswordHash" required id="psw" placeholder="password"/>
    </p>
    <p>
        <input type="submit" value="Register Me"/>
    </p>
}

<script src="https://cdnjs.cloudflare.com/ajax/libs/jsSHA/2.2.0/sha.js"></script>
<script>
    document.getElementById("reg_subm").addEventListener("submit", function (e)
    {
        var val = document.getElementById("psw").value;
        var shaObj = new jsSHA("SHA-512", "TEXT");
        shaObj.update(val);
        var hash = shaObj.getHash("HEX");
        document.getElementById("psw").value = hash;
    });
</script>