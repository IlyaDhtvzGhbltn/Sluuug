@model Slug.Model.Messager.CryptoChat.CryptoConversationModel
@using Slug.Extensions

<div class="chat-wrapper">
    <div class="interlocutor-avatar-container">
        <img alt="user avatar" src="@Model.InterlocutorAvatar" />
    </div>
    <div class="conversation-body-container">
        <div class="interlocutor-name-container">
            <h2>@Model.InterlocutorName @Model.InterlocutorSurName</h2>
        </div>
        <div class="last-message-container">
            <span>Приглашает в зашифрованный чат</span>
        </div>
    </div>

    <div class="expiration-period-container">
        @if (!Model.Expired)
        {
            <span>Закроется @Model.CloseDate.ToString("D") @Model.CloseDate.ToString("hh:mm")</span>
            <span>
                Осталось <span class="experation-mins">@Model.RemainingMins </span> мин
                <span class="experation-sec">@Model.RemainingSecs </span> сек
            </span>
            <div class="crypto-chat-manage-container">
                <button onclick="accept_invite(this)" id="@Model.GuidId" title="Присоеденится к чату">@Html.Translate("Button_Accept_Invite")</button>
                <button onclick="RefuseInvite(this)" id="@Model.GuidId" title="Отказаться и удалить приглашение">Отклонить</button>
            </div>
        }
        else
        {
            <span style="color:red">Закрыт @Model.CloseDate.ToString("D")</span>
        }
    </div>
    @if (Model.InterlocutorVIP)
    {
        <img class="vipuser-crown" src="https://res.cloudinary.com/dlk1sqmj4/image/upload/v1578220125/system/86f6452c09d91a8a507417a473d956d1.png" />
    }
</div>
